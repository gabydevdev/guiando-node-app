/* stylelint-disable no-descending-specificity */
/* stylelint-disable max-nesting-depth */
$hm-mobile-left-padding: 20px;
$hm-mobile-right-padding: 32px;
$hm-mobile-sub-height: 40px;

.horizontal-menu-open {
	.header {
		z-index: $z-index-quickview;
	}
}

.horizontal-menu-backdrop {
	background: rgb(0 0 0 / 50%);
	position: fixed;
	inset: 0;
	z-index: 0;
	transition: opacity 0.3s ease;
	display: none;
}

.horizontal-app-menu {
	.menu-bar {
		position: fixed;
		top: 0;
		bottom: 0;
		background-color: $color-menu;
		width: 270px;
		left: -270px;
		overflow-y: auto;
		transition: transform 400ms cubic-bezier($menu-bezier);
		backface-visibility: hidden;
		perspective: 1000;
		flex-direction: column;
		z-index: 1;

		&.open {
			transform: translate3d(100%, 0, 0);
		}

		> ul {
			flex-flow: column nowrap;
			overflow-x: hidden;

			> li:first-child,
			> li:last-child {
				a {
					padding-right: $hm-mobile-right-padding;
					padding-left: $hm-mobile-left-padding;
				}
			}
		}

		ul {
			width: 100%;

			li {
				min-height: 45px;
				display: flex;
				flex-direction: column;

				> ul {
					overflow: hidden;
					margin-top: 6px;
					position: static;
					background: $color-menu-dark;
					opacity: 1;
                    padding: 12px 0 10px 10px;
					min-width: 0;
					left: 0;
					box-shadow: none;

					&::before {
						display: none;
					}

					> li {
						padding-left: 0;
						min-height: $hm-mobile-sub-height;

						> a {
							font-size: 13px;
							padding-top: 0;
							padding-bottom: 0;
							line-height: $hm-mobile-sub-height;
						}
					}
				}

				width: 100%;

				a {
					font-family: $interface-font-family, sans-serif;
					display: inline-block;
					padding-left: $hm-mobile-left-padding;
					padding-right: $hm-mobile-right-padding;
					min-height: 40px;
					line-height: 40px;
					font-size: 14px;
					clear: both;
					white-space: nowrap;
					overflow: hidden;
					text-overflow: ellipsis;
					width: 100%;

					> .arrow {
						float: right;
						rotate: 90deg;
						transition: all 0.12s ease;
						transform-origin: 90% 50%;
						padding-left: 17px;

						&.open {
							rotate: 0;
						}
					}
				}

				/* stylelint-disable-next-line selector-no-qualifying-type */
				&.open {
					ul {
						li {
							opacity: 1;
							transform: none;
						}
					}

					> a {
						opacity: 1;
						transform: none;
						color: #fff;
						padding-left: $hm-mobile-left-padding;
					}
				}
			}
		}

		.search-link {
			background: fade($color-menu-light, 10%);
			display: block;
			height: 54px;
			width: 100%;
			margin: 0;
			padding-left: $hm-mobile-left-padding;
			padding-right: $hm-mobile-left-padding;
			color: $color-menu-light;
			flex-shrink: 0;
			margin-top: auto;

			i {
				margin: 0;
			}
		}

		.toggle-sidebar {
			width: 35px;
			text-align: center;
            margin: 7px 10px 10px 8px;
			padding: 10px;
		}
	}

	&[data-pages-direction="slideRight"] {
		right: 0;
	}

	.header .header-sm-height {
		height: 100%;
	}

	.ghost-nav-dropdown {
		display: none;
	}

	.options {
		padding-left: 10px;
	}
}

@media (max-width: 1400px) {
	.header {
		.brand.inline::after {
			top: -7px;
		}
	}
}

@media (min-width: 980px) {
	.horizontal-menu {
		.page-content {
			margin-left: 0;

			.content {
				padding-top: 123px;
			}
		}
	}
}
